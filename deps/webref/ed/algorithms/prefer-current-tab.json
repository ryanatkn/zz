{
  "spec": {
    "title": "preferCurrentTab",
    "url": "https://wicg.github.io/prefer-current-tab/"
  },
  "algorithms": [
    {
      "name": "MediaStreamConstraints/preferCurrentTab",
      "href": "https://wicg.github.io/prefer-current-tab/#dom-mediastreamconstraints-prefercurrenttab",
      "html": "When <a data-link-type=\"method\" data-xref-type=\"method\" data-link-for=\"MediaDevices\" data-xref-for=\"MediaDevices\" data-lt=\"getDisplayMedia()\" data-cite=\"screen-capture\" data-cite-path=\"\" data-cite-frag=\"dom-mediadevices-getdisplaymedia\" href=\"https://www.w3.org/TR/screen-capture/#dom-mediadevices-getdisplaymedia\"><code>getDisplayMedia</code></a><code>()</code> is called with <code><var>constraints</var></code> (a\n            dictionary), the user agent <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": "if",
      "steps": [
        {
          "html": "If <code><var>constraints</var>.preferCurrentTab</code> is <code>false</code>, abort these\n              steps and continue instead with the\n              <a href=\"https://www.w3.org/TR/screen-capture/#dom-mediadevices-getdisplaymedia\">getDisplayMedia algorithm</a>."
        },
        {
          "html": "If <code><var>constraints</var>.</code><a data-link-type=\"dict-member\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"DisplayMediaStreamOptions\" data-xref-for=\"DisplayMediaStreamOptions\" data-cite=\"screen-capture\" data-cite-path=\"\" data-cite-frag=\"dom-displaymediastreamoptions-selfbrowsersurface\" href=\"https://www.w3.org/TR/screen-capture/#dom-displaymediastreamoptions-selfbrowsersurface\"><code>selfBrowserSurface</code></a> is\n              \"<a data-link-type=\"enum-value\" data-xref-type=\"enum-value\" data-link-for=\"SelfCapturePreferenceEnum\" data-xref-for=\"SelfCapturePreferenceEnum\" data-cite=\"screen-capture\" data-cite-path=\"\" data-cite-frag=\"idl-def-SelfCapturePreferenceEnum.exclude\" href=\"https://www.w3.org/TR/screen-capture/#idl-def-SelfCapturePreferenceEnum.exclude\"><code>exclude</code></a>\", return a <a data-xref-type=\"_IDL_\" data-link-type=\"interface\" data-lt=\"Promise\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"idl-promise\" href=\"https://webidl.spec.whatwg.org/#idl-promise\"><code>Promise</code></a> <a data-link-type=\"dfn\" data-lt=\"reject\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"reject\" href=\"https://webidl.spec.whatwg.org/#reject\">rejected</a> with\n              a newly <a data-link-type=\"dfn\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"exception\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>."
        },
        {
          "html": "<p>\n                The rest of the\n                <a href=\"https://www.w3.org/TR/screen-capture/#dom-mediadevices-getdisplaymedia\">getDisplayMedia algorithm</a>\n                should now be executed with the following changes:\n              </p>"
        }
      ]
    }
  ]
}