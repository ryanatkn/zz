{
  "spec": {
    "title": "Scalable Video Coding (SVC) Extension for WebRTC",
    "url": "https://www.w3.org/TR/webrtc-svc/"
  },
  "algorithms": [
    {
      "html": "[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webrtc-svc/#bib-webrtc\" title=\"WebRTC: Real-Time Communication in Browsers\">WEBRTC</a></cite>] Section 5.1 describes validation of\n           <a data-link-type=\"idl\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtptransceiverinit-sendencodings\"><code>sendEncodings</code></a> within\n           <a data-link-type=\"idl\" data-lt=\"addTransceiver()\" data-type=\"method\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcpeerconnection-addtransceiver\"><code>addTransceiver</code></a><code>()</code>. To validate\n           <a data-link-type=\"idl\" href=\"https://www.w3.org/TR/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-4\"><code>scalabilityMode</code></a>, add\n           the following steps after step 3 of\n           <a data-link-type=\"dfn|abstract-op\" data-type=\"dfn\" href=\"https://www.w3.org/TR/webrtc/#dfn-addtransceiver-sendencodings-validation-steps\">addTransceiver sendEncodings validation steps</a>:",
      "rationale": "if",
      "steps": [
        {
          "html": "If <var>sendEncodings</var> contains any encoding with a <a data-link-type=\"idl\" data-lt=\"RTCRtpEncodingParameters\" data-type=\"dictionary\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters\"><code>RTCRtpEncodingParameters</code></a>.<code>codec</code>\n               value <var>codec</var> <a data-link-type=\"dfn|abstract-op\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">exists</a> and where the same encoding's <a data-link-type=\"idl\" href=\"https://www.w3.org/TR/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-5\"><code>scalabilityMode</code></a>\n               value is not supported by <var>codec</var>, <a data-link-type=\"dfn|abstract-op\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an <a data-link-type=\"idl\" data-lt=\"OperationError\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>."
        },
        {
          "html": "Else if <var>sendEncodings</var> contains any encoding whose\n               <a data-link-type=\"idl\" href=\"https://www.w3.org/TR/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-6\"><code>scalabilityMode</code></a> value is\n               not supported by any codec in the <a data-link-type=\"dfn|abstract-op\" data-type=\"dfn\" href=\"https://www.w3.org/TR/webrtc/#dfn-list-of-implemented-send-codecs\">list of implemented send codecs</a>\n               for <var>kind</var>, <a data-link-type=\"dfn|abstract-op\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an <a data-link-type=\"idl\" data-lt=\"OperationError\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>."
        },
        {
          "html": "If <a data-link-type=\"idl\" data-lt=\"RTCRtpEncodingParameters\" data-type=\"dictionary\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters\"><code>RTCRtpEncodingParameters</code></a> stored in\n               <var>sendEncodings</var> contains more than 1\n               encoding with an <a data-link-type=\"idl\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters-active\"><code>active</code></a>\n               member with a value of <code>true</code> and\n               <var>sendEncodings</var> contains any encoding whose\n               <a data-link-type=\"idl\" href=\"https://www.w3.org/TR/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-7\"><code>scalabilityMode</code></a> value\n               represents an \"S mode\" and whose\n               <a data-link-type=\"idl\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters-active\"><code>active</code></a> member has a\n               value of <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n               <a data-link-type=\"idl\" data-lt=\"OperationError\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>."
        }
      ]
    },
    {
      "html": "[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webrtc-svc/#bib-webrtc\" title=\"WebRTC: Real-Time Communication in Browsers\">WEBRTC</a></cite>] Section 5.2 describes validation of <var>parameters</var>\n           within <a data-link-type=\"idl\" data-lt=\"setParameters()\" data-type=\"method\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpsender-setparameters\"><code>setParameters</code></a><code>()</code>. Insert the following\n           conditions under which the operation causes a promise rejected\n           with an <a data-link-type=\"idl\" data-lt=\"InvalidModificationError\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidmodificationerror\"><code>InvalidModificationError</code></a> (step 4) of\n           <a data-link-type=\"dfn|abstract-op\" data-type=\"dfn\" href=\"https://www.w3.org/TR/webrtc/#dfn-setparameters-validation-steps\">setParameters validation steps</a>:",
      "rationale": "if",
      "steps": [
        {
          "html": "If <var>encodings</var> contains any encoding with an existng\n               <a data-link-type=\"idl\" data-lt=\"RTCRtpEncodingParameters\" data-type=\"dictionary\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters\"><code>RTCRtpEncodingParameters</code></a>.codec value <var>codec</var>, where the same encoding's\n               <a data-link-type=\"idl\" href=\"https://www.w3.org/TR/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-11\"><code>scalabilityMode</code></a> value is not supported by <var>codec</var>."
        },
        {
          "html": "Else if <var>sender</var>.<a data-link-type=\"attribute\" data-lt=\"[[SendCodecs]]\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dfn-sendcodecs\"><code>[[SendCodecs]]</code></a> <a data-link-type=\"dfn|abstract-op\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-is-empty\">is empty</a>\n               and <var>encodings</var> contains any encoding whose\n               <a data-link-type=\"idl\" href=\"https://www.w3.org/TR/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-12\"><code>scalabilityMode</code></a> value is\n               not supported by any codec in the\n               <a data-link-type=\"dfn|abstract-op\" data-type=\"dfn\" href=\"https://www.w3.org/TR/webrtc/#dfn-list-of-implemented-send-codecs\">list of implemented send codecs</a> for <var>kind</var>."
        },
        {
          "html": "Else if <var>sender</var>.<a data-link-type=\"attribute\" data-lt=\"[[SendCodecs]]\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dfn-sendcodecs\"><code>[[SendCodecs]]</code></a> <a data-link-type=\"dfn|abstract-op\" data-lt=\"is empty\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-is-empty\">is not empty</a>\n               and <var>encodings</var> contains an encoding whose\n               <a data-link-type=\"idl\" href=\"https://www.w3.org/TR/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-13\"><code>scalabilityMode</code></a> value is\n               not supported by the codec used for the encoding's RTP stream."
        },
        {
          "html": "If <a data-link-type=\"idl\" data-lt=\"RTCRtpEncodingParameters\" data-type=\"dictionary\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters\"><code>RTCRtpEncodingParameters</code></a> stored in\n               <var>encodings</var> contains more than one\n               encoding with an <a data-link-type=\"idl\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters-active\"><code>active</code></a>\n               member with a value of <code>true</code> and\n               <var>encodings</var> contains any encoding whose\n               <a data-link-type=\"idl\" href=\"https://www.w3.org/TR/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-14\"><code>scalabilityMode</code></a> value\n               represents an \"S mode\" and whose\n               <a data-link-type=\"idl\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters-active\"><code>active</code></a> member has a\n               value of <code>true</code>."
        }
      ]
    }
  ]
}