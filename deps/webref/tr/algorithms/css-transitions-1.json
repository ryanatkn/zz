{
  "spec": {
    "title": "CSS Transitions",
    "url": "https://www.w3.org/TR/css-transitions-1/"
  },
  "algorithms": [
    {
      "html": "For each element and property, the implementation must act\n      as follows:",
      "rationale": "if",
      "steps": [
        {
          "html": "If all of the following are true: \n     <ul>\n      <li> the element does not have\n            a <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#running-transition\" id=\"ref-for-running-transition③\">running transition</a> for the property, \n      </li><li> the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#before-change-style\" id=\"ref-for-before-change-style④\">before-change style</a> is different from\n            the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#after-change-style\" id=\"ref-for-after-change-style⑦\">after-change style</a> for that property,\n            and the values for the property are <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transitionable\" id=\"ref-for-transitionable①\">transitionable</a>, \n      </li><li> the element does not have a <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#completed-transition\" id=\"ref-for-completed-transition②\">completed transition</a> for the property\n            or the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-end-value\" id=\"ref-for-transition-end-value\">end value</a> of the <span>completed transition</span> is different from the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#after-change-style\" id=\"ref-for-after-change-style⑧\">after-change style</a> for the property, \n      </li><li> there is a <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#matching-transition-property-value\" id=\"ref-for-matching-transition-property-value\">matching transition-property value</a>, and \n      </li><li> the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-combined-duration\" id=\"ref-for-transition-combined-duration\">combined duration</a> is greater than <span class=\"css\">0s</span>, \n     </li></ul>\n      then implementations must\n        remove the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#completed-transition\" id=\"ref-for-completed-transition④\">completed transition</a> (if present) from the set\n        of completed transitions and\n        start a transition whose: \n     <ul>\n      <li> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-start-time\" id=\"ref-for-transition-start-time\">start time</a> is\n            the time of the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#style-change-event\" id=\"ref-for-style-change-event⑤\">style change event</a> plus\n            the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#matching-transition-delay\" id=\"ref-for-matching-transition-delay①\">matching transition delay</a>, \n      </li><li> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-end-time\" id=\"ref-for-transition-end-time\">end time</a> is\n            the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-start-time\" id=\"ref-for-transition-start-time①\">start time</a> plus\n            the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#matching-transition-duration\" id=\"ref-for-matching-transition-duration①\">matching transition duration</a>, \n      </li><li> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-start-value\" id=\"ref-for-transition-start-value\">start value</a> is\n            the value of the transitioning property\n            in the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#before-change-style\" id=\"ref-for-before-change-style⑤\">before-change style</a>, \n      </li><li> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-end-value\" id=\"ref-for-transition-end-value①\">end value</a> is\n            the value of the transitioning property\n            in the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#after-change-style\" id=\"ref-for-after-change-style⑨\">after-change style</a>, \n      </li><li> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-reversing-adjusted-start-value\" id=\"ref-for-transition-reversing-adjusted-start-value①\">reversing-adjusted start value</a> is the same as\n            the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-start-value\" id=\"ref-for-transition-start-value①\">start value</a>, and \n      </li><li> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-reversing-shortening-factor\" id=\"ref-for-transition-reversing-shortening-factor①\">reversing shortening factor</a> is 1. \n     </li></ul>"
        },
        {
          "html": "Otherwise,\n        if the element has a <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#completed-transition\" id=\"ref-for-completed-transition⑤\">completed transition</a> for the property\n        and the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-end-value\" id=\"ref-for-transition-end-value②\">end value</a> of the <span>completed transition</span> is different from the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#after-change-style\" id=\"ref-for-after-change-style①⓪\">after-change style</a> for the property,\n        then implementations must\n        remove the <span>completed transition</span> from the set of <span>completed transitions</span>."
        },
        {
          "html": "If the element has a <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#running-transition\" id=\"ref-for-running-transition④\">running transition</a> or <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#completed-transition\" id=\"ref-for-completed-transition⑨\">completed transition</a> for the property,\n        and there is <strong>not</strong> a <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#matching-transition-property-value\" id=\"ref-for-matching-transition-property-value①\">matching transition-property value</a>,\n        then implementations must <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-cancel\" id=\"ref-for-transition-cancel①\">cancel</a> the <span>running transition</span> or remove the <span>completed transition</span> from the set of <span>completed transitions</span>."
        },
        {
          "html": "If the element has a <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#running-transition\" id=\"ref-for-running-transition⑥\">running transition</a> for the property,\n        there is a <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#matching-transition-property-value\" id=\"ref-for-matching-transition-property-value②\">matching transition-property value</a>,\n        and the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-end-value\" id=\"ref-for-transition-end-value③\">end value</a> of the <span>running transition</span> is <strong>not</strong> equal to the value of the property in the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#after-change-style\" id=\"ref-for-after-change-style①①\">after-change style</a>, then:",
          "rationale": "if",
          "steps": [
            {
              "html": "If the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#current-value\" id=\"ref-for-current-value\">current value</a> of the property\n            in the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#running-transition\" id=\"ref-for-running-transition⑧\">running transition</a> is equal to\n            the value of the property in the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#after-change-style\" id=\"ref-for-after-change-style①②\">after-change style</a>,\n            or if these two values are not <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transitionable\" id=\"ref-for-transitionable②\">transitionable</a>,\n            then implementations must <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-cancel\" id=\"ref-for-transition-cancel②\">cancel</a> the <span>running transition</span>."
            },
            {
              "html": "Otherwise, if the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-combined-duration\" id=\"ref-for-transition-combined-duration①\">combined duration</a> is\n            less than or equal to <span class=\"css\">0s</span>,\n            or if the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#current-value\" id=\"ref-for-current-value①\">current value</a> of the property in the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#running-transition\" id=\"ref-for-running-transition①⓪\">running transition</a> is not <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transitionable\" id=\"ref-for-transitionable③\">transitionable</a> with\n            the value of the property in the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#after-change-style\" id=\"ref-for-after-change-style①③\">after-change style</a>,\n            then implementations must <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-cancel\" id=\"ref-for-transition-cancel③\">cancel</a> the <span>running transition</span>."
            },
            {
              "html": "<a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-start-time\" id=\"ref-for-transition-start-time②\">start time</a> is\n                the time of the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#style-change-event\" id=\"ref-for-style-change-event⑦\">style change event</a> plus:",
              "rationale": "if",
              "steps": [
                {
                  "html": "if the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#matching-transition-delay\" id=\"ref-for-matching-transition-delay②\">matching transition delay</a> is nonnegative,\n                      the <span>matching transition delay</span>, or"
                },
                {
                  "html": "if the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#matching-transition-delay\" id=\"ref-for-matching-transition-delay④\">matching transition delay</a> is negative,\n                      the product of\n                      the new transition’s <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-reversing-shortening-factor\" id=\"ref-for-transition-reversing-shortening-factor⑤\">reversing shortening factor</a> and\n                      the <span>matching transition delay</span>,"
                }
              ],
              "ignored": [
                "the output of the timing function of the old transition at the time of the style change event, times the reversing shortening factor of the old transition 1 minus the reversing shortening factor of the old transition."
              ]
            },
            {
              "html": "Otherwise, implementations must <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-cancel\" id=\"ref-for-transition-cancel⑤\">cancel</a> the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#running-transition\" id=\"ref-for-running-transition①⑥\">running transition</a> and start a new transition whose: \n       <ul>\n        <li> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-start-time\" id=\"ref-for-transition-start-time④\">start time</a> is\n                the time of the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#style-change-event\" id=\"ref-for-style-change-event⑧\">style change event</a> plus\n                the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#matching-transition-delay\" id=\"ref-for-matching-transition-delay⑥\">matching transition delay</a>, \n        </li><li> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-end-time\" id=\"ref-for-transition-end-time②\">end time</a> is\n                the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-start-time\" id=\"ref-for-transition-start-time⑤\">start time</a> plus\n                the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#matching-transition-duration\" id=\"ref-for-matching-transition-duration③\">matching transition duration</a>, \n        </li><li> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-start-value\" id=\"ref-for-transition-start-value③\">start value</a> is\n                the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#current-value\" id=\"ref-for-current-value③\">current value</a> of the property\n                in the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#running-transition\" id=\"ref-for-running-transition①⑦\">running transition</a>, \n        </li><li> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-end-value\" id=\"ref-for-transition-end-value⑦\">end value</a> is\n                the value of the property\n                in the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#after-change-style\" id=\"ref-for-after-change-style①⑥\">after-change style</a>, \n        </li><li> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-reversing-adjusted-start-value\" id=\"ref-for-transition-reversing-adjusted-start-value⑤\">reversing-adjusted start value</a> is the same as\n                the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-start-value\" id=\"ref-for-transition-start-value④\">start value</a>, and \n        </li><li> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/css-transitions-1/#transition-reversing-shortening-factor\" id=\"ref-for-transition-reversing-shortening-factor⑦\">reversing shortening factor</a> is 1. \n       </li></ul>"
            }
          ]
        }
      ]
    },
    {
      "html": "For changes in earlier working drafts:",
      "rationale": "for",
      "steps": [
        {
          "html": "<p>See the <a href=\"https://www.w3.org/TR/2017/WD-css-transitions-1-20171130/#changes\">changes\n section in the 30 November 2017 Working Draft</a>.</p>"
        },
        {
          "html": "<p>See the <a href=\"https://www.w3.org/TR/2013/WD-css3-transitions-20131119/#changes\">changes\n section in the 19 November 2013 Working Draft</a>.</p>"
        },
        {
          "html": "<p>See the <a href=\"https://www.w3.org/TR/2013/WD-css3-transitions-20130212/ChangeLog\">the\n ChangeLog</a> for changes in previous working drafts.</p>"
        },
        {
          "html": "<p>For more details on these changes, see the version control change logs,\n which are split in many parts because of file renaming:</p>\n     <ul>\n      <li data-md=\"\">\n       <p><a href=\"https://github.com/w3c/csswg-drafts/commits/master/css-transitions-1/Overview.bs\">change log since 2017 October 12</a>,</p>\n      </li><li data-md=\"\">\n       <p><a href=\"https://hg.csswg.org/drafts/log/tip/css-transitions/Overview.bs\">change log from 2015 January 26 to 2017 October 12</a>,</p>\n      </li><li data-md=\"\">\n       <p><a href=\"https://hg.csswg.org/drafts/log/tip/css-transitions/Overview.src.html\">change log from 2013 March 28 to 2015 January 26</a>,</p>\n      </li><li data-md=\"\">\n       <p><a href=\"https://hg.csswg.org/drafts/log/tip/css3-transitions/Overview.src.html\">change log before 2013 March 28</a>.</p>\n     </li></ul>"
        }
      ]
    }
  ]
}